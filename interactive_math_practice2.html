<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Year 9 Maths - Complete Interactive Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .header h1 {
            color: #2c3e50;
            font-size: clamp(24px, 5vw, 32px);
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .curriculum-header {
            background: rgba(52, 73, 94, 0.9);
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .topic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .topic-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .topic-card.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-3px);
        }

        .topic-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .topic-description {
            font-size: 14px;
            opacity: 0.8;
        }

        .topic-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .topic-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }

        .stat-label {
            font-size: 12px;
            color: #7f8c8d;
            text-transform: uppercase;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .key-concepts {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        .key-concepts h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .key-concepts p, .key-concepts ul {
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .key-concepts ul {
            padding-left: 20px;
        }

        .problem-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease;
        }

        .problem-card:hover {
            transform: translateY(-2px);
        }

        .problem-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .problem-number {
            font-weight: bold;
            color: #2c3e50;
            font-size: 18px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .difficulty-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .easy { background: #27ae60; }
        .medium { background: #f39c12; }
        .hard { background: #e74c3c; }

        .problem-text {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 16px;
        }

        .interactive-workspace {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px dashed #dee2e6;
            min-height: 120px;
            position: relative;
        }

        .workspace-textarea {
            width: 100%;
            height: 100px;
            border: none;
            background: transparent;
            resize: vertical;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            outline: none;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-info {
            background: #17a2b8;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .answer-section, .hint-section {
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
            display: none;
        }

        .answer-section {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
        }

        .hint-section {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid #ffc107;
        }

        .answer-section.show, .hint-section.show {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 1000px; }
        }

        .step {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border-left: 3px solid #28a745;
        }

        .final-answer {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-weight: bold;
            color: #155724;
        }

        .common-mistakes {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .common-mistakes h4 {
            color: #856404;
            margin-top: 0;
            font-size: 14px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            z-index: 1001;
            animation: celebrate 2s ease-in-out;
            pointer-events: none;
        }

        @keyframes celebrate {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 15px;
            border-radius: 25px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .topic-grid {
                grid-template-columns: 1fr;
            }
            
            .problem-card {
                padding: 20px;
            }
            
            .controls {
                justify-content: center;
            }
            
            .btn {
                flex: 1;
                min-width: 120px;
            }
        }

        .diagram-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
            border: 2px solid #dee2e6;
        }

        .math-expression {
            font-family: 'Times New Roman', serif;
            font-size: 18px;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š Year 9 Maths Complete Practice</h1>
            <p>Master all Paper 1 Non-Calculator topics with interactive step-by-step guidance</p>
        </div>

        <div class="curriculum-header">
            <h2>ğŸ¯ Paper 1 - NON-CALCULATOR Topics</h2>
            <p>Foundation and Higher Tier GCSE Preparation</p>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="attempted">0</div>
                <div class="stat-label">Attempted</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="completed">0</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="accuracy">0%</div>
                <div class="stat-label">Progress</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="totalTopics">13</div>
                <div class="stat-label">Total Topics</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="search-container">
            <input type="text" class="search-box" placeholder="ğŸ” Search for a specific topic or type of problem..." id="searchBox">
        </div>

        <div class="topic-grid">
            <div class="topic-card" onclick="showTopic('substitution')">
                <div class="topic-title">1ï¸âƒ£ Substitution</div>
                <div class="topic-description">Replace variables with numbers and calculate using BIDMAS</div>
            </div>

            <div class="topic-card" onclick="showTopic('word-problems')">
                <div class="topic-title">2ï¸âƒ£ Word Problems</div>
                <div class="topic-description">Translate real-world scenarios into mathematical equations</div>
            </div>

            <div class="topic-card" onclick="showTopic('ratios')">
                <div class="topic-title">3ï¸âƒ£ Simplifying Ratios</div>
                <div class="topic-description">Compare quantities and solve ratio problems</div>
            </div>

            <div class="topic-card" onclick="showTopic('equations')">
                <div class="topic-title">4ï¸âƒ£ Solving Equations</div>
                <div class="topic-description">Find unknown values using inverse operations</div>
            </div>

            <div class="topic-card" onclick="showTopic('thinking-number')">
                <div class="topic-title">5ï¸âƒ£ "I'm Thinking of a Number"</div>
                <div class="topic-description">Classic algebraic word problems with systematic solving</div>
            </div>

            <div class="topic-card" onclick="showTopic('compound-shapes')">
                <div class="topic-title">6ï¸âƒ£ Area of Compound Shapes</div>
                <div class="topic-description">Calculate areas by breaking shapes into simpler parts</div>
            </div>

            <div class="topic-card" onclick="showTopic('scatter-graphs')">
                <div class="topic-title">7ï¸âƒ£ Scatter Graphs</div>
                <div class="topic-description">Interpret data relationships and draw lines of best fit</div>
            </div>

            <div class="topic-card" onclick="showTopic('two-way-tables')">
                <div class="topic-title">8ï¸âƒ£ Two Way Tables</div>
                <div class="topic-description">Organize and analyze data using frequency tables</div>
            </div>

            <div class="topic-card" onclick="showTopic('enlargement')">
                <div class="topic-title">9ï¸âƒ£ Enlargement Through a Centre</div>
                <div class="topic-description">Transform shapes using scale factors and centres</div>
            </div>

            <div class="topic-card" onclick="showTopic('estimations')">
                <div class="topic-title">ğŸ”Ÿ Using Estimations</div>
                <div class="topic-description">Approximate calculations and check reasonableness</div>
            </div>

            <div class="topic-card" onclick="showTopic('expanding-brackets')">
                <div class="topic-title">1ï¸âƒ£1ï¸âƒ£ Expanding Brackets</div>
                <div class="topic-description">Multiply out single and double brackets</div>
            </div>

            <div class="topic-card" onclick="showTopic('factorising')">
                <div class="topic-title">1ï¸âƒ£2ï¸âƒ£ Factorising</div>
                <div class="topic-description">Take out common factors and factorize expressions</div>
            </div>

            <div class="topic-card" onclick="showTopic('simultaneous-equations')">
                <div class="topic-title">1ï¸âƒ£3ï¸âƒ£ Simultaneous Equations</div>
                <div class="topic-description">Solve systems of equations by elimination</div>
            </div>
        </div>

        <!-- Topic 1: Substitution -->
        <div id="substitution" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Substitution</h2>
                <p><strong>Substitution</strong> means replacing letters (variables) with given numbers and then calculating the result.</p>
                <ul>
                    <li><strong>BIDMAS/BODMAS:</strong> Brackets, Indices/Orders, Division/Multiplication, Addition/Subtraction</li>
                    <li><strong>Always substitute first,</strong> then follow the order of operations</li>
                    <li><strong>Use brackets</strong> when substituting negative numbers: x = -2 â†’ (-2)Â²</li>
                    <li><strong>Remember:</strong> ab means a Ã— b, xÂ² means x Ã— x</li>
                </ul>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 1</div>
                    <div class="difficulty-badge easy">Easy</div>
                </div>
                <div class="problem-text">
                    If x = 4 and y = -2, find the value of:<br>
                    a) 3x + 2y<br>
                    b) xÂ² - y<br>
                    c) 2(x + y)<br>
                    d) xy + 5
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Show your working here... Remember to substitute first, then calculate using BIDMAS"></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Remember to substitute the values first: x = 4, y = -2</p>
                    <p>For part a): Replace x with 4 and y with -2: 3(4) + 2(-2)</p>
                    <p>For part b): xÂ² means x Ã— x, so (4)Â² = 16</p>
                    <p>Don't forget BIDMAS - multiply before adding!</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Complete Solution:</h4>
                    <div class="step">
                        <strong>a) 3x + 2y</strong><br>
                        Step 1: Substitute â†’ 3(4) + 2(-2)<br>
                        Step 2: Multiply â†’ 12 + (-4)<br>
                        Step 3: Add â†’ 12 - 4 = 8
                    </div>
                    <div class="step">
                        <strong>b) xÂ² - y</strong><br>
                        Step 1: Substitute â†’ (4)Â² - (-2)<br>
                        Step 2: Square â†’ 16 - (-2)<br>
                        Step 3: Subtract negative â†’ 16 + 2 = 18
                    </div>
                    <div class="step">
                        <strong>c) 2(x + y)</strong><br>
                        Step 1: Substitute â†’ 2(4 + (-2))<br>
                        Step 2: Brackets first â†’ 2(2)<br>
                        Step 3: Multiply â†’ 4
                    </div>
                    <div class="step">
                        <strong>d) xy + 5</strong><br>
                        Step 1: Substitute â†’ (4)(-2) + 5<br>
                        Step 2: Multiply â†’ -8 + 5<br>
                        Step 3: Add â†’ -3
                    </div>
                    <div class="final-answer">Final Answers: a) 8, b) 18, c) 4, d) -3</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 2</div>
                    <div class="difficulty-badge medium">Medium</div>
                </div>
                <div class="problem-text">
                    If a = 2.5, b = -1.5, and c = 4, find:<br>
                    a) 2a + 3b<br>
                    b) cÂ² - ab<br>
                    c) (a + b)Â² <br>
                    d) 3a - 2b + c
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Work with decimals carefully..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Substitute: a = 2.5, b = -1.5, c = 4</p>
                    <p>For part c): Remember (a + b)Â² means (a + b) Ã— (a + b)</p>
                    <p>Be careful with decimal calculations!</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Complete Solution:</h4>
                    <div class="step">
                        <strong>a) 2a + 3b</strong><br>
                        Substitute: 2(2.5) + 3(-1.5) = 5 + (-4.5) = 0.5
                    </div>
                    <div class="step">
                        <strong>b) cÂ² - ab</strong><br>
                        Substitute: (4)Â² - (2.5)(-1.5) = 16 - (-3.75) = 16 + 3.75 = 19.75
                    </div>
                    <div class="step">
                        <strong>c) (a + b)Â²</strong><br>
                        Substitute: (2.5 + (-1.5))Â² = (1)Â² = 1
                    </div>
                    <div class="step">
                        <strong>d) 3a - 2b + c</strong><br>
                        Substitute: 3(2.5) - 2(-1.5) + 4 = 7.5 + 3 + 4 = 14.5
                    </div>
                    <div class="final-answer">Final Answers: a) 0.5, b) 19.75, c) 1, d) 14.5</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 3</div>
                    <div class="difficulty-badge hard">Hard</div>
                </div>
                <div class="problem-text">
                    If p = -3, q = 2, and r = -1, evaluate:<br>
                    a) pÂ²q - rÂ³<br>
                    b) 2pÂ² + 3qÂ² - rÂ²<br>
                    c) (p + q)(q - r)<br>
                    d) pÂ²qr + pqÂ²r
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Work carefully with negative numbers and powers..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Remember: (-3)Â² = 9 (positive), (-1)Â³ = -1</p>
                    <p>For products with multiple variables, substitute all values first</p>
                    <p>Take extra care with negative signs!</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Complete Solution:</h4>
                    <div class="step">
                        <strong>a) pÂ²q - rÂ³</strong><br>
                        Substitute: (-3)Â²(2) - (-1)Â³ = 9(2) - (-1) = 18 + 1 = 19
                    </div>
                    <div class="step">
                        <strong>b) 2pÂ² + 3qÂ² - rÂ²</strong><br>
                        Substitute: 2(-3)Â² + 3(2)Â² - (-1)Â² = 2(9) + 3(4) - 1 = 18 + 12 - 1 = 29
                    </div>
                    <div class="step">
                        <strong>c) (p + q)(q - r)</strong><br>
                        Substitute: (-3 + 2)(2 - (-1)) = (-1)(3) = -3
                    </div>
                    <div class="step">
                        <strong>d) pÂ²qr + pqÂ²r</strong><br>
                        Substitute: (-3)Â²(2)(-1) + (-3)(2)Â²(-1) = 9(2)(-1) + (-3)(4)(-1)<br>
                        = -18 + 12 = -6
                    </div>
                    <div class="final-answer">Final Answers: a) 19, b) 29, c) -3, d) -6</div>
                </div>
            </div>
        </div>

        <!-- Topic 2: Word Problems -->
        <div id="word-problems" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Word Problems</h2>
                <p><strong>Strategy:</strong> Read carefully, define variables, write equations, solve, check</p>
                <ul>
                    <li><strong>Key phrases:</strong> "more than" â†’ +, "less than" â†’ -, "times" â†’ Ã—, "is" â†’ =</li>
                    <li><strong>Define your variable clearly:</strong> "Let x = the number I think of"</li>
                    <li><strong>Translate step by step</strong> from words to mathematics</li>
                    <li><strong>Always check</strong> your answer makes sense in the original problem</li>
                </ul>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 1</div>
                    <div class="difficulty-badge easy">Easy</div>
                </div>
                <div class="problem-text">
                    I think of a number, multiply it by 4, then subtract 7. My answer is 21. What number did I think of?
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Let x = the number I think of..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Step 1: Let x = the number I think of</p>
                    <p>Step 2: "multiply by 4, then subtract 7" = 4x - 7</p>
                    <p>Step 3: "my answer is 21" means 4x - 7 = 21</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">Let x = the number I think of</div>
                    <div class="step">Equation: 4x - 7 = 21</div>
                    <div class="step">Add 7 to both sides: 4x = 28</div>
                    <div class="step">Divide by 4: x = 7</div>
                    <div class="step">Check: 4(7) - 7 = 28 - 7 = 21 âœ“</div>
                    <div class="final-answer">The number is 7</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 2</div>
                    <div class="difficulty-badge medium">Medium</div>
                </div>
                <div class="problem-text">
                    Amy has twice as much money as Ben. Charlie has Â£3 more than Ben. Together they have Â£27. How much money does each person have?
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Let x = Ben's money..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Let x = Ben's money</p>
                    <p>Amy has twice as much as Ben, so Amy has 2x</p>
                    <p>Charlie has Â£3 more than Ben, so Charlie has x + 3</p>
                    <p>Together: x + 2x + (x + 3) = 27</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">Let x = Ben's money (Â£)</div>
                    <div class="step">Amy has 2x, Charlie has x + 3</div>
                    <div class="step">Total: x + 2x + (x + 3) = 27</div>
                    <div class="step">Simplify: 4x + 3 = 27</div>
                    <div class="step">Solve: 4x = 24, so x = 6</div>
                    <div class="step">Therefore: Ben Â£6, Amy Â£12, Charlie Â£9</div>
                    <div class="step">Check: Â£6 + Â£12 + Â£9 = Â£27 âœ“</div>
                    <div class="final-answer">Ben: Â£6, Amy: Â£12, Charlie: Â£9</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 3</div>
                    <div class="difficulty-badge hard">Hard</div>
                </div>
                <div class="problem-text">
                    A rectangular field has a perimeter of 84 metres. The length is 6 metres more than twice the width. Find the length and width of the field.
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Let w = width..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Let w = width</p>
                    <p>"6 more than twice the width" means length = 2w + 6</p>
                    <p>Perimeter = 2(length + width) = 84</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">Let w = width (metres)</div>
                    <div class="step">Length = 2w + 6 (6 more than twice the width)</div>
                    <div class="step">Perimeter: 2(w + 2w + 6) = 84</div>
                    <div class="step">Simplify: 2(3w + 6) = 84</div>
                    <div class="step">Expand: 6w + 12 = 84</div>
                    <div class="step">Solve: 6w = 72, so w = 12</div>
                    <div class="step">Length = 2(12) + 6 = 30 metres</div>
                    <div class="step">Check: Perimeter = 2(12 + 30) = 84 âœ“</div>
                    <div class="final-answer">Width = 12m, Length = 30m</div>
                </div>
            </div>
        </div>

        <!-- Topic 11: Expanding Brackets -->
        <div id="expanding-brackets" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Expanding Brackets</h2>
                <p><strong>Expanding brackets</strong> means multiplying out to remove brackets</p>
                <ul>
                    <li><strong>Single brackets:</strong> Multiply everything outside by everything inside</li>
                    <li><strong>Double brackets:</strong> Each term in first bracket Ã— each term in second bracket</li>
                    <li><strong>FOIL method:</strong> First, Outer, Inner, Last terms</li>
                    <li><strong>Grid method:</strong> Draw a grid to organize your multiplication</li>
                    <li><strong>Collect like terms</strong> at the end to simplify</li>
                </ul>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 1</div>
                    <div class="difficulty-badge easy">Easy</div>
                </div>
                <div class="problem-text">
                    Expand these single brackets:<br>
                    a) 3(x + 4)<br>
                    b) -2(y - 5)<br>
                    c) x(x + 7)<br>
                    d) -4(2a - 3b)
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Multiply everything outside the bracket by everything inside..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>For 3(x + 4): multiply 3 by both x and 4</p>
                    <p>For -2(y - 5): multiply -2 by both y and -5</p>
                    <p>Remember: negative Ã— negative = positive</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">
                        <strong>a) 3(x + 4)</strong><br>
                        = 3 Ã— x + 3 Ã— 4 = 3x + 12
                    </div>
                    <div class="step">
                        <strong>b) -2(y - 5)</strong><br>
                        = -2 Ã— y + (-2) Ã— (-5) = -2y + 10
                    </div>
                    <div class="step">
                        <strong>c) x(x + 7)</strong><br>
                        = x Ã— x + x Ã— 7 = xÂ² + 7x
                    </div>
                    <div class="step">
                        <strong>d) -4(2a - 3b)</strong><br>
                        = -4 Ã— 2a + (-4) Ã— (-3b) = -8a + 12b
                    </div>
                    <div class="final-answer">a) 3x + 12, b) -2y + 10, c) xÂ² + 7x, d) -8a + 12b</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 2</div>
                    <div class="difficulty-badge medium">Medium</div>
                </div>
                <div class="problem-text">
                    Expand and simplify:<br>
                    a) 2(x + 3) + 4(x - 1)<br>
                    b) 3(2y - 1) - 2(y + 4)<br>
                    c) x(x + 5) + 2x(x - 3)
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Expand each bracket first, then collect like terms..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Expand each bracket separately first</p>
                    <p>Then collect like terms (x terms with x terms, numbers with numbers)</p>
                    <p>Be careful with signs when subtracting brackets</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">
                        <strong>a) 2(x + 3) + 4(x - 1)</strong><br>
                        = 2x + 6 + 4x - 4<br>
                        = 6x + 2
                    </div>
                    <div class="step">
                        <strong>b) 3(2y - 1) - 2(y + 4)</strong><br>
                        = 6y - 3 - 2y - 8<br>
                        = 4y - 11
                    </div>
                    <div class="step">
                        <strong>c) x(x + 5) + 2x(x - 3)</strong><br>
                        = xÂ² + 5x + 2xÂ² - 6x<br>
                        = 3xÂ² - x
                    </div>
                    <div class="final-answer">a) 6x + 2, b) 4y - 11, c) 3xÂ² - x</div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 3</div>
                    <div class="difficulty-badge hard">Hard</div>
                </div>
                <div class="problem-text">
                    Expand these double brackets using FOIL or the grid method:<br>
                    a) (x + 3)(x + 5)<br>
                    b) (2x - 1)(x + 4)<br>
                    c) (3y - 2)(2y + 3)<br>
                    d) (x - 4)Â²
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Use FOIL: First Ã— First, Outer Ã— Outer, Inner Ã— Inner, Last Ã— Last"></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                    <button class="btn btn-info" onclick="showGrid(this)">ğŸ“Š Show Grid Method</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>FOIL method for (x + 3)(x + 5):</p>
                    <p>First: x Ã— x = xÂ²</p>
                    <p>Outer: x Ã— 5 = 5x</p>
                    <p>Inner: 3 Ã— x = 3x</p>
                    <p>Last: 3 Ã— 5 = 15</p>
                    <p>Result: xÂ² + 5x + 3x + 15 = xÂ² + 8x + 15</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">
                        <strong>a) (x + 3)(x + 5)</strong><br>
                        Using FOIL: xÂ² + 5x + 3x + 15 = xÂ² + 8x + 15
                    </div>
                    <div class="step">
                        <strong>b) (2x - 1)(x + 4)</strong><br>
                        Using FOIL: 2xÂ² + 8x - x - 4 = 2xÂ² + 7x - 4
                    </div>
                    <div class="step">
                        <strong>c) (3y - 2)(2y + 3)</strong><br>
                        Using FOIL: 6yÂ² + 9y - 4y - 6 = 6yÂ² + 5y - 6
                    </div>
                    <div class="step">
                        <strong>d) (x - 4)Â²</strong><br>
                        = (x - 4)(x - 4) = xÂ² - 4x - 4x + 16 = xÂ² - 8x + 16
                    </div>
                    <div class="final-answer">a) xÂ² + 8x + 15, b) 2xÂ² + 7x - 4, c) 6yÂ² + 5y - 6, d) xÂ² - 8x + 16</div>
                    <div class="common-mistakes">
                        <h4>Common Mistake:</h4>
                        Remember (x - 4)Â² â‰  xÂ² - 16. You must expand (x - 4)(x - 4) properly!
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional topics would continue here... -->
        <!-- For brevity, I'll add a few more key topics -->

        <!-- Topic 12: Factorising -->
        <div id="factorising" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Factorising</h2>
                <p><strong>Factorising</strong> is the reverse of expanding - putting brackets back in</p>
                <ul>
                    <li><strong>Look for common factors</strong> in all terms</li>
                    <li><strong>Highest Common Factor (HCF)</strong> goes outside the bracket</li>
                    <li><strong>What's left</strong> goes inside the bracket</li>
                    <li><strong>Check by expanding</strong> your answer</li>
                    <li><strong>Factorising quadratics:</strong> Look for two numbers that multiply to give the constant term and add to give the coefficient of x</li>
                </ul>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 1</div>
                    <div class="difficulty-badge easy">Easy</div>
                </div>
                <div class="problem-text">
                    Factorise by taking out common factors:<br>
                    a) 6x + 9<br>
                    b) 4y - 8<br>
                    c) 10a + 15b<br>
                    d) xÂ² + 5x
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Look for the highest common factor..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>For 6x + 9: What is the HCF of 6 and 9? It's 3</p>
                    <p>So 6x + 9 = 3(2x + 3)</p>
                    <p>Check: 3(2x + 3) = 6x + 9 âœ“</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">
                        <strong>a) 6x + 9</strong><br>
                        HCF of 6 and 9 is 3<br>
                        = 3(2x + 3)
                    </div>
                    <div class="step">
                        <strong>b) 4y - 8</strong><br>
                        HCF of 4 and 8 is 4<br>
                        = 4(y - 2)
                    </div>
                    <div class="step">
                        <strong>c) 10a + 15b</strong><br>
                        HCF of 10 and 15 is 5<br>
                        = 5(2a + 3b)
                    </div>
                    <div class="step">
                        <strong>d) xÂ² + 5x</strong><br>
                        Common factor is x<br>
                        = x(x + 5)
                    </div>
                    <div class="final-answer">a) 3(2x + 3), b) 4(y - 2), c) 5(2a + 3b), d) x(x + 5)</div>
                </div>
            </div>
        </div>

        <!-- Topic 6: Compound Shapes -->
        <div id="compound-shapes" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Area of Compound Shapes</h2>
                <p><strong>Compound shapes</strong> are made up of simple shapes joined together</p>
                <ul>
                    <li><strong>Method 1:</strong> Break into simple shapes and add areas</li>
                    <li><strong>Method 2:</strong> Large shape minus cut-out areas</li>
                    <li><strong>Label all dimensions</strong> clearly</li>
                    <li><strong>Use the correct area formulas:</strong> Rectangle = lw, Triangle = Â½bh, Circle = Ï€rÂ²</li>
                    <li><strong>Include units</strong> in your final answer (cmÂ², mÂ², etc.)</li>
                </ul>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <div class="problem-number">Problem 1</div>
                    <div class="difficulty-badge medium">Medium</div>
                </div>
                <div class="problem-text">
                    Find the area of this L-shaped figure:<br><br>
                    <div class="diagram-container">
                        <svg width="200" height="150" viewBox="0 0 200 150">
                            <rect x="20" y="20" width="100" height="60" fill="lightblue" stroke="black" stroke-width="2"/>
                            <rect x="120" y="50" width="60" height="80" fill="lightblue" stroke="black" stroke-width="2"/>
                            <text x="70" y="45" font-size="12" text-anchor="middle">8 cm</text>
                            <text x="10" y="55" font-size="12" text-anchor="middle">5 cm</text>
                            <text x="150" y="45" font-size="12" text-anchor="middle">4 cm</text>
                            <text x="190" y="95" font-size="12" text-anchor="middle">6 cm</text>
                        </svg>
                        <p>The L-shape consists of two rectangles as shown</p>
                    </div>
                </div>
                <div class="interactive-workspace">
                    <textarea class="workspace-textarea" placeholder="Break into two rectangles and find the area of each..."></textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showHint(this)">ğŸ’¡ Get Hint</button>
                    <button class="btn btn-success" onclick="showAnswer(this)">âœ“ Show Answer</button>
                    <button class="btn btn-secondary" onclick="clearWork(this)">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="hint-section">
                    <h4>ğŸ’¡ Hint:</h4>
                    <p>Break this into two rectangles:</p>
                    <p>Rectangle 1: 8 cm Ã— 5 cm</p>
                    <p>Rectangle 2: 4 cm Ã— 6 cm</p>
                    <p>Total area = Area 1 + Area 2</p>
                </div>
                <div class="answer-section">
                    <h4>âœ… Solution:</h4>
                    <div class="step">Break into two rectangles:</div>
                    <div class="step">Rectangle 1: 8 cm Ã— 5 cm = 40 cmÂ²</div>
                    <div class="step">Rectangle 2: 4 cm Ã— 6 cm = 24 cmÂ²</div>
                    <div class="step">Total area = 40 + 24 = 64 cmÂ²</div>
                    <div class="final-answer">Area = 64 cmÂ²</div>
                </div>
            </div>
        </div>

        <!-- Add placeholder sections for other topics -->
        <div id="ratios" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Simplifying Ratios</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="equations" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Solving Equations</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="thinking-number" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: "I'm Thinking of a Number"</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="scatter-graphs" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Scatter Graphs</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="two-way-tables" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Two Way Tables</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="enlargement" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Enlargement Through a Centre</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="estimations" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Using Estimations</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>

        <div id="simultaneous-equations" class="topic-section">
            <div class="key-concepts">
                <h2>ğŸ”‘ Key Concepts: Simultaneous Equations by Elimination</h2>
                <p>Content coming soon... Click other topics to continue practicing!</p>
            </div>
        </div>
    </div>

    <!-- Celebration Modal -->
    <div id="celebrationModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeCelebration()">&times;</button>
            <div style="text-align: center; padding: 20px;">
                <div style="font-size: 48px; margin-bottom: 20px;">ğŸ‰</div>
                <h2>Excellent Work!</h2>
                <p>You're mastering Year 9 Maths! Keep up the fantastic progress!</p>
                <button class="btn btn-primary" onclick="closeCelebration()">Continue Learning</button>
            </div>
        </div>
    </div>

    <script>
        let stats = {
            attempted: 0,
            completed: 0,
            totalProblems: 20 // Updated for more problems
        };

        let currentTopic = '';

        function showTopic(topicId) {
            // Hide all topics
            document.querySelectorAll('.topic-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected topic
            const topicElement = document.getElementById(topicId);
            if (topicElement) {
                topicElement.classList.add('active');
                currentTopic = topicId;
            }
            
            // Update button states
            document.querySelectorAll('.topic-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.topic-card').classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showHint(button) {
            const problemCard = button.closest('.problem-card');
            const hintSection = problemCard.querySelector('.hint-section');
            
            if (hintSection.classList.contains('show')) {
                hintSection.classList.remove('show');
                button.textContent = 'ğŸ’¡ Get Hint';
            } else {
                hintSection.classList.add('show');
                button.textContent = 'ğŸ’¡ Hide Hint';
                
                // Update stats
                if (!problemCard.hasAttribute('data-attempted')) {
                    stats.attempted++;
                    problemCard.setAttribute('data-attempted', 'true');
                    updateStats();
                }
            }
        }

        function showAnswer(button) {
            const problemCard = button.closest('.problem-card');
            const answerSection = problemCard.querySelector('.answer-section');
            
            if (answerSection.classList.contains('show')) {
                answerSection.classList.remove('show');
                button.textContent = 'âœ“ Show Answer';
            } else {
                answerSection.classList.add('show');
                button.textContent = 'âœ“ Hide Answer';
                
                // Update stats
                if (!problemCard.hasAttribute('data-completed')) {
                    stats.completed++;
                    problemCard.setAttribute('data-completed', 'true');
                    updateStats();
                    showCelebration();
                }
                
                if (!problemCard.hasAttribute('data-attempted')) {
                    stats.attempted++;
                    problemCard.setAttribute('data-attempted', 'true');
                }
            }
        }

        function showGrid(button) {
            alert("Grid Method:\n\nDraw a 2Ã—2 grid with the terms from each bracket on the outside.\nMultiply each row by each column.\nAdd all the results together.\n\nExample for (x+3)(x+5):\n\n     x    5\nx   xÂ²   5x\n3   3x   15\n\nResult: xÂ² + 5x + 3x + 15 = xÂ² + 8x + 15");
        }

        function clearWork(button) {
            const problemCard = button.closest('.problem-card');
            const textarea = problemCard.querySelector('.workspace-textarea');
            textarea.value = '';
            textarea.focus();
        }

        function updateStats() {
            document.getElementById('attempted').textContent = stats.attempted;
            document.getElementById('completed').textContent = stats.completed;
            
            const progress = Math.round((stats.completed / stats.totalProblems) * 100);
            document.getElementById('accuracy').textContent = progress + '%';
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showCelebration() {
            // Create celebration effect
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.textContent = ['ğŸ‰', 'â­', 'ğŸ†', 'âœ¨', 'ğŸŠ', 'ğŸ¯', 'ğŸ’ª'][Math.floor(Math.random() * 7)];
            document.body.appendChild(celebration);
            
            setTimeout(() => {
                document.body.removeChild(celebration);
            }, 2000);
            
            // Show modal for major milestones
            if (stats.completed % 5 === 0) {
                document.getElementById('celebrationModal').classList.add('show');
            }
        }

        function closeCelebration() {
            document.getElementById('celebrationModal').classList.remove('show');
        }

        // Search functionality
        function initializeSearch() {
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const topicCards = document.querySelectorAll('.topic-card');
                
                topicCards.forEach(card => {
                    const title = card.querySelector('.topic-title').textContent.toLowerCase();
                    const description = card.querySelector('.topic-description').textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || description.includes(searchTerm)) {
                        card.style.display = 'block';
                        card.style.opacity = '1';
                    } else if (searchTerm === '') {
                        card.style.display = 'block';
                        card.style.opacity = '1';
                    } else {
                        card.style.opacity = '0.3';
                    }
                });
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Show first topic by default
            showTopic('substitution');
            
            // Initialize search
            initializeSearch();
            
            // Add focus effects to textareas
            document.querySelectorAll('.workspace-textarea').forEach(textarea => {
                textarea.addEventListener('focus', function() {
                    this.parentElement.style.borderColor = '#667eea';
                    this.parentElement.style.backgroundColor = '#f8f9ff';
                });
                
                textarea.addEventListener('blur', function() {
                    this.parentElement.style.borderColor = '#dee2e6';
                    this.parentElement.style.backgroundColor = '#f8f9fa';
                });
            });

            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case '1':
                            e.preventDefault();
                            showTopic('substitution');
                            break;
                        case '2':
                            e.preventDefault();
                            showTopic('word-problems');
                            break;
                        case '3':
                            e.preventDefault();
                            showTopic('ratios');
                            break;
                        case '4':
                            e.preventDefault();
                            showTopic('equations');
                            break;
                    }
                }
            });

            // Add smooth scrolling for better UX
            document.querySelectorAll('.topic-card').forEach(card => {
                card.addEventListener('click', function() {
                    setTimeout(() => {
                        document.querySelector('.key-concepts').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 100);
                });
            });
        });

        // Add some educational tips
        function showTip() {
            const tips = [
                "ğŸ’¡ Always check your answer by substituting back into the original equation!",
                "ğŸ¯ When expanding brackets, be extra careful with negative signs.",
                "ğŸ“ For word problems, always define your variable clearly at the start.",
                "ğŸ” Look for common factors when factorising - start with the highest common factor.",
                "âš–ï¸ Remember: whatever you do to one side of an equation, do to the other side too!",
                "ğŸ§® BIDMAS/BODMAS helps you remember the order of operations.",
                "ğŸ“Š When dealing with compound shapes, sketch and label all the dimensions clearly."
            ];
            
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            
            // Create tip notification
            const tipElement = document.createElement('div');
            tipElement.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 15px 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); max-width: 300px; z-index: 1000; animation: slideInRight 0.5s ease;">
                    ${randomTip}
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: white; float: right; margin-left: 10px; cursor: pointer; font-size: 16px;">&times;</button>
                </div>
            `;
            
            document.body.appendChild(tipElement);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (tipElement.parentElement) {
                    tipElement.remove();
                }
            }, 5000);
        }

        // Show tips periodically
        setInterval(showTip, 30000); // Every 30 seconds

        // Add CSS for slide animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>